---
import type { Module as ModuleType } from "../data/seoModules";

export interface Props {
  module: ModuleType;
}

const { module } = Astro.props;
---

<div class="group hover:opacity-95 transition-opacity duration-200" data-module={module.id}>
  <div
    class={`w-full py-6 cursor-pointer transition-all duration-200 ease-out focus:outline-none focus-visible:bg-yellow-50 focus-visible:rounded-lg ${module.isPaid ? "opacity-75" : ""}`}
    data-module-toggle={module.id}
    role="button"
    tabindex="0"
    aria-expanded="false"
  >
    <div class="flex items-start justify-between">
      <div class="flex-1">
        <div class="flex items-center mb-2">
          <span
            class={`w-6 h-6 text-xs rounded-full mr-3 flex items-center justify-center ${module.isPaid ? "bg-yellow-400 text-gray-900" : "bg-gray-900 text-white"}`}
          >
            {module.isPaid ? "â˜…" : module.id}
          </span>
          <h2
            class={`font-instrument-serif text-xl font-normal ${module.isPaid ? "text-gray-600" : "text-gray-900"}`}
          >
            {module.title}
            {
              module.isPaid && (
                <span class="ml-2 text-xs text-yellow-600">Premium</span>
              )
            }
          </h2>
        </div>
        <p
          class={`text-xs ml-9 ${module.isPaid ? "text-gray-400" : "text-gray-600"}`}
        >
          {module.description}
        </p>
      </div>
      <svg
        class="w-4 h-4 text-gray-400 transition-transform duration-200"
        data-chevron={module.id}
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="1.5"
          d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
  </div>

  <!-- Lazy-loaded content container -->
  <div class="hidden" data-module-content={module.id}>
    <div class="ml-9 mt-4 space-y-3" data-steps-container={module.id}>
      <!-- Steps will be loaded dynamically -->
    </div>
  </div>
</div>




